# 家庭床位安排应用 - 规范文档

## 1. 项目概述

- **项目名称**: 床位安排板
- **项目类型**: 单页HTML应用
- **核心功能**: 拖拽式床位安排 + 一键截图导出
- **目标用户**: 家庭成员，用于节假日团聚时快速安排住宿

## 2. UI/UX 规范

### 布局结构

```
┌─────────────────────────────────────────────┐
│  标题栏 (床位安排板 + 截图按钮)              │
├─────────────────────────────────────────────┤
│  ┌─────────┐ ┌─────────┐ ┌─────────┐        │
│  │ 大姨家  │ │ 外公家  │ │ 我家    │  ...   │
│  │ ┌───┬───┐ │ ┌───┬───┐ │ ┌───┬───┐ │        │
│  │ │床1│床2│ │ │床1│床2│ │ │床1│床2│ │        │
│  │ └───┴───┘ │ └───┴───┘ │ └───┴───┘ │        │
│  └─────────┘ └─────────┘ └─────────┘        │
├─────────────────────────────────────────────┤
│  人员池 (可拖拽的人员便签)                   │
│  [张三] [李四] [王五] [赵六] [陈七]          │
└─────────────────────────────────────────────┘
```

### 响应式断点

- 移动端: < 640px (2列房屋卡片)
- 平板: 640px - 1024px (3列)
- 桌面: > 1024px (4列)

### 视觉设计

**色彩方案 - 温暖便签风格**
- 背景: #F5F0E8 (米黄纸张色)
- 房屋卡片背景: #FFFEF7 (白色便签)
- 床位格背景: #F0EDE5 (浅棕)
- 床位格边框: #D4CFC5
- 人员便签: 多彩便签
  - 粉色: #FFB5BA
  - 蓝色: #A8D8EA
  - 绿色: #B8E0B8
  - 黄色: #FFE5A0
  - 紫色: #D4B8E0
- 文字主色: #4A4A4A
- 文字次色: #7A7A7A
- 强调色: #E07A5F (珊瑚红)

**字体**
- 主字体: "ZCOOL XiaoWei", "Microsoft YaHei", sans-serif
- 标题: 24px, font-weight: 600
- 房屋名: 16px, font-weight: 600
- 床位名: 14px
- 人员名: 14px, font-weight: 500

**间距系统**
- 页面边距: 24px
- 卡片间距: 16px
- 卡片内边距: 16px
- 床位格间距: 8px

**视觉效果**
- 卡片阴影: 0 2px 8px rgba(0,0,0,0.08)
- 悬停阴影: 0 4px 16px rgba(0,0,0,0.12)
- 圆角: 8px (卡片), 6px (床位格), 4px (便签)
- 拖拽时: scale(1.05), shadow增强, 旋转2deg

### 组件规范

**房屋卡片**
- 宽度: 自适应 (grid布局)
- 包含: 房屋名称 + 床位网格
- 床位网格: 2列布局

**床位格**
- 尺寸: 最小 80px × 60px
- 状态:
  - 空: 浅灰背景 + "空"字 + 虚线边框
  - 有人: 彩色背景 + 人员名字 + 实线边框
  - 拖拽悬停: 边框变粗 #E07A5F

**人员便签 (人员池中)**
- 尺寸: 自适应文字 padding
- 随机分配颜色 (从便签色板中)
- 悬停: 轻微上浮 + 阴影加深
- 拖拽中: 半透明 + 旋转

**截图按钮**
- 位置: 右上角
- 样式: 圆角按钮，珊瑚红背景，白色文字
- 悬停: 背景加深

## 3. 功能规范

### 核心功能

1. **房屋管理**
   - 预设房屋: 大姨家、外公家、我家、二姨家
   - 每个房屋预设2-4个床位
   - 房屋可展开/收起床位

2. **床位展示**
   - 网格形式展示床位
   - 显示状态: 空/已占用(显示人名)

3. **人员池**
   - 预设人员: 爸妈、大姨、大姨父、二姨、二姨父、外公、外婆、舅舅、舅妈、我
   - 人员以彩色便签形式展示

4. **拖拽安排**
   - 从人员池拖拽人员到床位 → 安排入住
   - 从床位拖拽人员回人员池 → 取消安排
   - 床位之间拖拽 → 转移床位
   - 拖拽时显示预览效果

5. **截图生成**
   - 点击按钮生成当前布局截图
   - 使用html2canvas库
   - 自动下载为PNG图片
   - 文件名: 床位安排_YYYY-MM-DD.png

### 用户交互流程

1. 打开页面 → 看到房屋卡片和人员池
2. 拖拽人员便签 → 放到床位上 → 人员出现在床位
3. 点击截图按钮 → 自动下载图片

### 数据处理

- 使用 localStorage 保存当前安排状态
- 页面刷新后自动恢复

### 边缘情况

- 不能重复安排同一人到多个床位
- 人员已安排时，人员池中该人显示为半透明
- 空床位可接收人员

## 4. 验收标准

1. ✅ 页面正常加载，显示房屋卡片和人员池
2. ✅ 可以将人员拖拽到床位上，床位显示人员名字
3. ✅ 可以将床位上的人员拖回人员池
4. ✅ 截图按钮可以生成并下载PNG图片
5. ✅ 刷新页面后安排状态保留
6. ✅ 拖拽有视觉反馈（悬停效果、拖拽态）
7. ✅ 移动端可正常使用
